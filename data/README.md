# EDA, обработка данных
## О данных
- Данные взяты с kaggle
- Имеют более 200 тыс. заявок
- Имеют 18 признаков

Данные разбиты на два датасета:
1. Application_info.csv - датасет с признаками
2. Default_flg.csv - датасет с целевой переменной

Все имеющиеся колонки из двух датасетов:
- id - Анонимизированный идентификатор заявителя
- application_dt - Дата подачи заявки
- sample_cd - Категория выборки
- education_cd - Образование
- gender_cd - Пол
- age - Возраст
- car_own_flg - Флаг наличия автомобиля
- car_type_flg - Флаг наличия иномарки
- appl_rej_cnt - Количество отказанных прошлых заявок
- good_work_flg - Флаг наличия "хорошей" работы
- score_bki - Скор балл по данным из бюро кредитных историй
- out_request_cnt - Количество запросов в бюро
- region_rating - Рейтинг региона
- home_address_cd - Категоризатор домашнего адреса
- work_address_cd - Категоризатор рабочего адреса
- income - Доход заявителя
- SNA - Связь заявителя с клиентами
- first_time_cd - Давность наличия информации о заявителе
- air_flg - Наличие загран паспорта
- default_flg - Флаг дефолта по кредиту

## EDA
После проведения первичного анализа данных было выявлено:
- Пропуски в education_cd
- Сильный дисбаланс классов (класса "1" в 8 раз меньше)
- Выбросы в appl_rej_cnt и out_request_cnt

Матрица корреляции:
<div>
  <div style="text-align: center;">
    <img src="../images/corr.JPG" width="50%" alt="corr_matrix">
  </div>
</div>

## Преобразование данных
- Пропусков в education_cd было немного, поэтому заполнил их модой
- Колонку appl_rej_cnt заменил на маску "appl_rej_cnt > 5"
- Колонку out_request_cnt заменил на маску "out_request_cnt > 10"
- К колонкам "education_cd", "gender_cd", "car_own_flg", "car_type_flg", "Air_flg" применил one-hot encoding
- Колонки 'age', 'income', 'region_rating' нормализовал (StandardScaler)

### Преобразование колонки с временем подачи заявки  
Из даты выделил следующие признаки:  
- Сезоны (Лето/Зима/Весна/Осень)  
- Кварталы года (1-4)

## Важность признаков после обучения
Важность измерял с помощью SHAP:
<div>
  <div style="text-align: center;">
    <img src="../images/shap.JPG" width="50%" alt="corr_matrix">
  </div>
</div>





